<!doctype html>
<html data-bs-theme="auto" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="gjPubs, my eighth iOS App, is my sixth app released on the App Store." name="description" />
    <meta content="Gavin Jerman" name="author" />
    <meta content="Ignite v0.2.1" name="generator" />
    <title>gjPubs Is on the App Store</title>
    <link href="/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/css/prism-xcode-light.css" rel="stylesheet" data-highlight-theme="xcode-light" />
    <link href="/css/bootstrap-icons.min.css" rel="stylesheet" />
    <link href="/css/themes.min.css" rel="stylesheet" />
    <link href="/css/media-queries.min.css" rel="stylesheet" />
    <link href="https://jermware.net/blog/2024-02-20-gjpubs-released-to-the-app-store" rel="canonical" />
    <link href="/favicon.png" rel="icon" />
    <meta content="jermware" property="og:site_name" />
    <meta content="/images/blog/2024-02-20-gjpubs-released-to-the-app-store-1.png" property="og:image" />
    <meta content="/images/blog/2024-02-20-gjpubs-released-to-the-app-store-1.png" property="twitter:image" />
    <meta content="gjPubs Is on the App Store" property="og:title" />
    <meta content="gjPubs Is on the App Store" property="twitter:title" />
    <meta content="gjPubs Is on the App Store" property="og:description" />
    <meta content="gjPubs Is on the App Store" name="twitter:description" />
    <meta content="https://jermware.net/blog/2024-02-20-gjpubs-released-to-the-app-store" property="og:url" />
    <meta content="jermware.net" name="twitter:domain" />
    <meta content="summary_large_image" name="twitter:card" />
    <meta content="on" name="twitter:dnt" />
  </head>
  <body class="container">
    <header>
      <nav class="navbar navbar-expand-md" style="background-color: rgb(0 0 0 / 100%)" data-bs-theme="dark">
        <div class="container">
          <a href="/" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover navbar-brand">jermware.net</a>
          <button type="button" class="btn navbar-toggler" data-bs-target="#navbarCollapse" data-bs-toggle="collapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
          <div id="navbarCollapse" class="collapse navbar-collapse">
            <ul class="col justify-content-end mb-2 mb-md-0 navbar-nav">
              <li class="nav-item"><a href="/" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover nav-link">Home</a></li>
              <li class="nav-item"><a href="/projects" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover nav-link">Projects</a></li>
              <li class="nav-item"><a href="/archive" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover nav-link">Archive</a></li>
              <li class="nav-item"><a href="/about" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover nav-link">About</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <div class="mx-auto" style="width: 90%;">
      <div>
        <h1 class="mb-5 mt-4" style="font-weight: 900">gjPubs Is on the App Store</h1>
        <h6 class="mt-4 text-light-emphasis" style="font-weight: 400">February 20, 2024</h6>
        <h6 class="text-light-emphasis" style="font-weight: 300">Tagged with: gjpubs, ios, app, app store, swiftui, swiftdata</h6>
        <h6 class="mb-5 text-light-emphasis" style="font-weight: 300">1160 words; 5 minutes to read.</h6>
        <p></p>
        <p><a href="/projects/gjPubs"><strong>gjPubs</strong></a>, my eighth iOS App, is my sixth app released on the <a href="https://apps.apple.com/app/gjpubs/id6475642254?platform=iphone">App Store</a>.</p>
        <img src="/images/blog/2024-02-20-gjpubs-released-to-the-app-store-1.png" alt="gjPubs screenshots" width="384" /> 
        <br />
        <br /> 
        <p>This wasn’t meant to happen! I was nearing the end of the rewrite of <a href="/projects/gjLists"><strong>gjLists</strong></a> using <a href="https://developer.apple.com/documentation/swiftui/">SwiftUI</a> and <a href="https://developer.apple.com/xcode/swiftdata/">SwiftData</a>. I had almost completed the testing of the data conversion from <a href="https://developer.apple.com/icloud/cloudkit/">CloudKit</a> to <em>SwiftData</em>, after which all I needed to do was create the new screenshots (tedious), before submitting to App Store Connect for review and then, hopefully, release.</p>
        <p>But, thanks to <a href="https://www.hackingwithswift.com/articles/263/build-your-first-app-with-swiftui-and-swiftdata">Paul Hudson</a>, I got distracted. I watched his excellent <a href="https://www.youtube.com/watch?v=n4SCMC25BxY">Create your first app with SwiftUI and SwiftData</a> YouTube video and it inspired me to write <strong>gjPubs</strong>. In the video he wrote an app from scratch using <em>SwiftUI</em> and <em>SwiftData</em> that stored data and images in <a href="https://www.apple.com/uk/icloud/">iCloud</a> using <em>SwiftData</em>. He showed how easy it was to save an image using <em>SwiftData</em>’s external storage to ensure the database remained performant.</p>
        <p>This got me thinking. I started writing <a href="/projects/gjBeers"><strong>gjBeers</strong></a> way back in 2020 to allow me to catalogue and rate real ales. Although it’s written using <a href="https://swift.org/">Swift</a>, it uses <a href="https://developer.apple.com/documentation/uikit">UIKit</a> rather than <em>SwiftUI</em> for the UI, and a <a href="https://www.json.org">JSON</a> file for storage. The app allows me to ‘store’ images of beer pump clips, but it does this by storing references to the images in the device’s photos library, not the actual image. If you delete the image from the photo library, it’s gone, and the app cannot display the image. <strong>gjBeers</strong> does not save its own images because I didn’t want to duplicate all the images. Currently I have 965 different beers in my collection and duplicating those images would take up a lot of device storage. So far this has worked because I’m the only user of <strong>gjBeers</strong>, it’s not on the App Store, and I make sure I keep copies of my beer images off the device. If I had a catastrophic failure and lost all/any of my beer images, I would be able to get them back. It would be a manual process, but it could be done.</p>
        <p>After watching Paul’s video and a little online research, I realised that I should be able to store compressed images using <em>SwiftData</em>. Hopefully the images wouldn’t take up too much space, they would be independent of the device’s photo library, and could be backed up to an external file for safe keeping. I decided to investigate. Anything other than screenshots for the <strong>gjLists</strong> rewrite!</p>
        <p>Rather than experiment using my <strong>gjBeers</strong> collection, I decided to start afresh and to write a proof of concept to catalogue something else close to my heart, pubs! Like the beers I drink, I like to remember and rate pubs I have visited so I know which to avoid, and which to revisit, be it because of the beer or the food. And, like beers, it’s always good to have an image as an aide-mémoire. Hence, the birth of <strong>gjPubs</strong>.</p>
        <p>It went well. I started coding <strong>gjPubs</strong> at the end of December 2023 and, eight weeks later, it’s in the App Store! That’s pretty good going for me. As with all software development, the last 20% of the work took 80% of the time, c.f. <a href="https://en.wikipedia.org/wiki/Pareto_principle">Pareto principle</a>. Even producing the screenshots was a breeze thanks to the excellent <a href="https://www.rocketsim.app">RocketSim</a>.</p>
        <p>What about storing the images using <em>SwiftData</em>? So far, it looks okay. I do compress the images to reduce their size and storage requirements, and they still look good on the device. I’ve added a setting in the app to allow the user to adjust the compression quality from the lowest, 1, to the best, 10. I’m using the app with the default compression setting of 5 and my current collection of 20 pubs, all with an image taken on my iPhone 13 mini, is using 3.9MB of <em>SwiftData</em>‘s external storage. Some images, based on their size, are stored in the <em>SwiftData</em> <a href="https://www.sqlite.org">SQLite</a> database, which explains why the size of the external backup file for all 20 pubs and their images is 5.3MB. I don’t think that’s too bad. If the storage needs scale linearly, it suggests that a 1,000 beer collection with images is likely to need around 265MB. I’m okay with that.</p>
        <p>So, it looks like a rewrite of <strong>gjPubs</strong> using <em>SwiftUI</em> and <em>SwiftData</em> is on the cards. I just need to need finish the new <strong>gjLists</strong> screenshots and get it released to the App Store with no further distractions.</p>
        <p>Why release <strong>gjPubs</strong> to the App Store? Although it was only meant to be a proof of concept for the rewrite of <strong>gjBeers</strong>, I’ve found it useful and didn’t want it to wither and die. If it’s on the App Store I will need to maintain and enhance it, especially if people are paying for it.</p>
        <p>Why are you charging for <strong>gjPubs</strong> rather than making it free with a tip jar like your other apps? To be honest, I’m being lazy. I couldn’t be bothered to write the tip jar screen and processing for it. It’s so much easier to set a price for the app in App Store Connect and be done with it.</p>
        <p>If you like visiting pubs and want to log your thoughts, ratings, visits etc., download <strong>gjPubs</strong> using the link below and give it a go. I think you’ll like it and find it worth the small fee - thanks. <br /><br /></p>
        <p><a href="https://apps.apple.com/app/gjpubs/id6475642254?platform=iphone"><img src="/images/Download_on_the_App_Store_Badge_US-UK_RGB_blk_092917.svg" alt="download" class="img-fluid" /></a></p>
        <p></p>
      </div>
    </div>
    <header>
      <nav class="mb-1 mt-4 navbar navbar-expand-md" style="background-color: rgb(0 0 0 / 100%)">
        <div class="container">
          <a href="/" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover navbar-brand"></a>
          <a href="https://github.com/twostraws/Ignite" rel="noopener noreferrer" target="_blank" class="link-underline link-underline-opacity-100 link-underline-opacity-100-hover">Created in Swift with Ignite</a>
          <button type="button" class="btn navbar-toggler" data-bs-target="#navbarCollapse" data-bs-toggle="collapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
          <div id="navbarCollapse" class="collapse navbar-collapse">
            <ul class="col justify-content-end mb-2 mb-md-0 navbar-nav">
              <li class="nav-item"><a href="https://github.com/jermware/jermware.github.io" rel="noopener noreferrer" target="_blank" class="link-light link-underline link-underline-opacity-100 link-underline-opacity-100-hover nav-link"><i class="bi-github"></i></a></li>
              <li class="nav-item"><a href="https://mstdn.social/@gavinjerman" rel="noopener noreferrer" target="_blank" class="link-light link-underline link-underline-opacity-100 link-underline-opacity-100-hover nav-link"><i class="bi-mastodon"></i></a></li>
              <li class="nav-item"><a href="/feed.rss" rel="noopener noreferrer" target="_blank" class="link-light link-underline link-underline-opacity-100 link-underline-opacity-100-hover nav-link"><i class="bi-rss-fill"></i></a></li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script src="/js/ignite-core.js"></script>
  </body>
</html>